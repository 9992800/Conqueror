package com.jctx.chat.service;

import javax.annotation.Resource;

import org.springframework.data.redis.connection.RedisConnection;
import org.springframework.data.redis.connection.jedis.JedisConnection;
import org.springframework.data.redis.connection.jedis.JedisConnectionFactory;
import org.springframework.stereotype.Service;

import com.jctx.chat.module.OnlineBean;

import redis.clients.jedis.Jedis;

@Service("jedisService")
public class RedisServiceImp implements RedisService {

	@Resource
	JedisConnectionFactory jedisFactory;

	@Override
	public void online(OnlineBean bean) {

		RedisConnection conn =  jedisFactory.getConnection();
		
		try{		
			Jedis worker = ((JedisConnection)conn).getNativeConnection();
//			worker.subscribe(null, "");
		
		}catch(Exception e){
			
			e.printStackTrace();
			
		}finally {
			
			conn.close();
			
		}
	}
	
}
